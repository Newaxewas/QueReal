@using QueReal.PL.Models.Quest
@model QuestEditModel

@using (Html.BeginForm(FormMethod.Post))
{
	<div asp-validation-summary="ModelOnly"></div>
	<div class="form-group">
		@Html.LabelFor(x => x.Title)<br>
		@Html.TextBoxFor(x => x.Title)<br>
		@Html.ValidationMessageFor(x => x.Title)
	</div>
	<div class="form-group">
		@Html.LabelFor(x => x.QuestItems)
		<div id="questItemsControl" class="quest-item-block"></div>
		@Html.ValidationMessageFor(x => x.QuestItems)
	</div>
	<button class="submit-button">Save</button>
}

<script>
	const items = JSON.parse(`@(Model?.QuestItems != null ? Json.Serialize(Model.QuestItems) : "[]")`);

	app.renderQuestControl("questItemsControl", items);
</script>