@using QueReal.PL.Models.Quest
@model QuestFormModel

@using (Html.BeginForm(FormMethod.Post))
{
	<div asp-validation-summary="ModelOnly"></div>
	<div class="form-group">
		@Html.LabelFor(x => x.Title)<br>
		@Html.TextBoxFor(x => x.Title)<br>
		@Html.ValidationMessageFor(x => x.Title)
	</div>
	<div class="form-group">
		@Html.ValidationMessageFor(x => x.QuestItems)
		<div id="questItemsControl"></div>
	</div>
	<input type="submit">
}

<script>
	const items = JSON.parse(`@(Model?.QuestItems != null ? Json.Serialize(Model.QuestItems) : "[]")`).map(item => item.title)

	app.renderQuestCreateControl("questItemsControl", items)
</script>